import { Box, BoxProps, Button, ButtonProps, Center, Flex, Text, Textarea, useBreakpointValue } from '@chakra-ui/react';
import Head from 'next/head';
import { useState, ChangeEventHandler } from 'react';

import { AppColors, HOVERABLE_CLASS } from '../constant';

// ********************************************************************************
// == Constant ====================================================================
const buttonProps: Partial<ButtonProps> = {
  className: HOVERABLE_CLASS,
  color: AppColors.WHITE,
  backgroundColor: AppColors.PURPLE,
  _active: { color: AppColors.PURPLE, backgroundColor: AppColors.WHITE_2 },
  _hover: { color: AppColors.PURPLE, backgroundColor: AppColors.WHITE },
}

const containerProps: Partial<BoxProps> = {
  padding: '1em',
  flexBasis: '50%',
}

// == Component ===================================================================
const MainPage = () => {
  // -- State ---------------------------------------------------------------------
  const [textAreaValue, setTextAreaValue] = useState('')

  // -- Handler -------------------------------------------------------------------
  const handleTextAreaChange: ChangeEventHandler<HTMLTextAreaElement> = (event) =>
    setTextAreaValue(event.target.value)

  // -- UI ------------------------------------------------------------------------
  return (
    <>
      <Head>
        <meta name='description' content='Generated by create next app' />
        <meta name='viewport' content='width=device-width, initial-scale=1' />
        <link rel='icon' href='/favicon.ico' />
      </Head>
      <Box
        position='relative'
        width='100vw'
        height='100vh'
        flexDir='column'
        justifyContent='space-between'
        overflowX='auto'
        overflowY='auto'
        color={AppColors.WHITE}
        backgroundColor={AppColors.BLACK_1}
      >
        <Box padding='2em'>
          <Text
            padding='0.25em'
            backgroundColor={AppColors.PURPLE}
            borderRadius='16px'
            width='fit-content'
            fontSize={useBreakpointValue({ base: '1.5em', md: '2.5em' })}
            fontWeight='bold'
          >
            Clipboard Injector
          </Text>
        </Box>
        <Box padding='2em'>
          <Flex
            backgroundColor={AppColors.BLACK_2}
            borderRadius='16px'
            flexDir={useBreakpointValue({ base: 'column', md: 'row' })}
            minHeight={useBreakpointValue({ base: '', md: '60vh' })}
          >
            <Box {...containerProps}>
              <Center padding='2em' gap='5em'>
                <Button {...buttonProps}>
                  {useBreakpointValue({ base: 'Text', md: 'Copy as Text' })}
                </Button>
                <Button {...buttonProps}>
                  {useBreakpointValue({ base: 'HTML', md: 'Copy as HTML' })}
                </Button>
              </Center>
              <Textarea
                value={textAreaValue}
                onChange={handleTextAreaChange}
                height='70%'/*T&E*/
              />
            </Box>
            <Box {...containerProps}>
              <Box
                padding='1em'
                height='100%'
                overflow='auto'
                outline={`1px solid ${AppColors.WHITE_2}`}
                borderRadius='16px'
              >
                The copied contents will be displayed here
              </Box>
            </Box>
          </Flex>
        </Box>
      </Box>
    </>
  )
}

export default MainPage;